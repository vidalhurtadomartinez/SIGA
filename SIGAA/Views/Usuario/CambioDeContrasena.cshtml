@using MvcFlash.Core.Extensions
@model SIGAA.ViewModels.CambioContrasenaWiewModel
@{
    ViewBag.Title = "Combio de contraseña";
}
<br />
<br />

<div class="row">
    <div class="col-md-8">
           <div id="loginForm" class="panel panel-default small">
               <div class="panel-heading">
                   <h1>@ViewBag.Title.</h1>
               </div>
               <div class="panel-body">
                   @using (Html.BeginForm("CambioDeContrasena", "Usuario", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                       @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                       @Html.AntiForgeryToken()
                       @Html.HiddenFor(model => model.iUsuario_id)
                       @Html.Flash()

                        <div class="form-group form-group-sm">
                            @Html.Label("Nombre :", htmlAttributes: new { @class = "control-label col-md-4" })
                            <div class="col-md-7">
                                @Html.Editor("datos.nombreCompleto", new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                            </div>
                        </div>
                       <div class="form-group form-group-sm">
                           @Html.LabelFor(m => m.usr_login, new { @class = "col-md-4 control-label" })
                           <div class="col-md-7">
                               @Html.EditorFor(m => m.usr_login, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                               @Html.ValidationMessageFor(m => m.usr_login, "", new { @class = "text-danger" })
                           </div>
                       </div>
                       <div class="form-group form-group-sm">
                           @Html.LabelFor(m => m.ContrasenaActual, new { @class = "col-md-4 control-label" })
                           <div class="col-md-7">
                               @Html.PasswordFor(m => m.ContrasenaActual, new { @class = "form-control" })
                               @Html.ValidationMessageFor(m => m.ContrasenaActual, "", new { @class = "text-danger" })
                           </div>
                       </div>
                       <div class="form-group form-group-sm">
                           @Html.LabelFor(m => m.ContrasenaNueva, new { @class = "col-md-4 control-label" })
                           <div class="col-md-7">
                               @Html.PasswordFor(m => m.ContrasenaNueva, new { @class = "form-control" })
                               @Html.ValidationMessageFor(m => m.ContrasenaNueva, "", new { @class = "text-danger" })
                           </div>
                       </div>
                       <div class="form-group form-group-sm">
                           @Html.LabelFor(m => m.ConfirmaContrasenaNueva, new { @class = "col-md-4 control-label" })
                           <div class="col-md-7">
                               @Html.PasswordFor(m => m.ConfirmaContrasenaNueva, new { @class = "form-control" })
                               @Html.ValidationMessageFor(m => m.ConfirmaContrasenaNueva, "", new { @class = "text-danger" })
                           </div>
                       </div>

                       <div class="form-group">
                           <div class="col-md-offset-4 col-md-8">
                               <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span> Cambiar contraseña</button>
                               <a href=@Url.Action("Index", "Home") class="btn btn-default"><span class="glyphicon glyphicon-list"></span> Ir a principal </a>
                           </div>
                       </div>
                   }
               </div>
           </div>
        </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
<script src="~/Scripts/general/marcaCamposRequeridos.js"></script>
}